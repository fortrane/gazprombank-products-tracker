# üè¶ Gazprombank Reviews Analytics System (Frontend)

–°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–∑—ã–≤–æ–≤ –∫–ª–∏–µ–Ω—Ç–æ–≤ –¥–ª—è –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤ –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–∏–Ω–∞–º–∏–∫–∏ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–π, –∞–Ω–∞–ª–∏–∑–∞ –æ—Ç–∑—ã–≤–æ–≤ –∏ –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –∑–æ–Ω –≤ –±–∞–Ω–∫–æ–≤—Å–∫–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–∞—Ö. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –ø—Ä–æ–¥—É–∫—Ç–∞–º –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–º –ø–µ—Ä–∏–æ–¥–∞–º, –∞ —Ç–∞–∫–∂–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ –æ—Ç–∑—ã–≤–æ–≤ –ø–æ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

## üíª –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **–û–°:** Ubuntu 22.04 LTS
- **–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä:** 1 —è–¥—Ä–æ
- **RAM:** 2 –ì–ë
- **–î–∏—Å–∫–æ–≤–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ:** 25 –ì–ë
- **Web-—Å–µ—Ä–≤–µ—Ä:** Nginx
- **PHP:** 7.4
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** MySQL 8.0+

### –°–µ—Ç–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- –í—ã–¥–µ–ª–µ–Ω–Ω—ã–π IP-–∞–¥—Ä–µ—Å
- –î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ DNS –∑–∞–ø–∏—Å—è–º–∏
- –û—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã: 80, 443, 22

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ–º–µ–Ω–∞

1. –ù–∞–ø—Ä–∞–≤—å—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ A-–∑–∞–ø–∏—Å—å:
```
Type: A
Name: @
Value: [IP-–∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞]
TTL: 3600
```

2. –°–æ–∑–¥–∞–π—Ç–µ CNAME –∑–∞–ø–∏—Å—å –¥–ª—è –ø–æ–¥–¥–æ–º–µ–Ω–∞ www:
```
Type: CNAME
Name: www
Value: [–≤–∞—à –¥–æ–º–µ–Ω]
TTL: 3600
```

### –®–∞–≥ 2: –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH –∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å–∏—Å—Ç–µ–º—É:
```bash
sudo apt update
sudo apt upgrade -y
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–∞–∫–µ—Ç—ã:
```bash
sudo apt install nginx software-properties-common unzip nano curl ufw -y
```

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ PHP 7.4

1. –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π PHP:
```bash
sudo add-apt-repository ppa:ondrej/php -y
sudo apt update
```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ PHP –∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –º–æ–¥—É–ª–∏:
```bash
sudo apt install php7.4-fpm php7.4-common php7.4-mysql \
    php7.4-xml php7.4-xmlrpc php7.4-curl php7.4-gd \
    php7.4-imagick php7.4-cli php7.4-dev php7.4-imap \
    php7.4-mbstring php7.4-opcache php7.4-soap \
    php7.4-zip php7.4-intl -y
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∏ –≤–∫–ª—é—á–∏—Ç–µ PHP-FPM:
```bash
sudo systemctl enable php7.4-fpm
sudo systemctl start php7.4-fpm
```

### –®–∞–≥ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ MySQL

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ MySQL Server:
```bash
sudo apt install mysql-server -y
```

2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –±–µ–∑–æ–ø–∞—Å–Ω—É—é –Ω–∞—Å—Ç—Ä–æ–π–∫—É MySQL:
```bash
sudo mysql_secure_installation
```

–ü—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–ª–∞–≥–∏–Ω –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–∞—Ä–æ–ª–µ–π? **Y** (–≤—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å 1 - MEDIUM)
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è root? **Y** (–≤–≤–µ–¥–∏—Ç–µ –∏ –∑–∞–ø–æ–º–Ω–∏—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å)
- –£–¥–∞–ª–∏—Ç—å –∞–Ω–æ–Ω–∏–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π? **Y**
- –ó–∞–ø—Ä–µ—Ç–∏—Ç—å —É–¥–∞–ª–µ–Ω–Ω—ã–π –≤—Ö–æ–¥ –¥–ª—è root? **Y**
- –£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö? **Y**
- –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–∏–≤–∏–ª–µ–≥–∏–π? **Y**

3. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è phpMyAdmin:
```bash
sudo mysql
```

–í –∫–æ–Ω—Å–æ–ª–∏ MySQL –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```sql
CREATE USER 'phpmyadmin'@'localhost' IDENTIFIED BY '–í–∞—à–°–ª–æ–∂–Ω—ã–π–ü–∞—Ä–æ–ª—å';
GRANT ALL PRIVILEGES ON *.* TO 'phpmyadmin'@'localhost' WITH GRANT OPTION;
FLUSH PRIVILEGES;
EXIT;
```

### –®–∞–≥ 5: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ phpMyAdmin

1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ phpMyAdmin 5.1.4:
```bash
cd /tmp
wget https://files.phpmyadmin.net/phpMyAdmin/5.1.4/phpMyAdmin-5.1.4-all-languages.tar.gz
tar xzf phpMyAdmin-5.1.4-all-languages.tar.gz
```

2. –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é:
```bash
sudo mv phpMyAdmin-5.1.4-all-languages /usr/share/phpmyadmin
```

3. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:
```bash
sudo mkdir -p /var/lib/phpmyadmin/tmp
sudo chown -R www-data:www-data /var/lib/phpmyadmin/tmp
```

4. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ phpMyAdmin:
```bash
sudo cp /usr/share/phpmyadmin/config.sample.inc.php /usr/share/phpmyadmin/config.inc.php
sudo nano /usr/share/phpmyadmin/config.inc.php
```

–ù–∞–π–¥–∏—Ç–µ –∏ –∏–∑–º–µ–Ω–∏—Ç–µ —Å—Ç—Ä–æ–∫—É —Å `blowfish_secret`:
```php
$cfg['blowfish_secret'] = '—Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ32—Å–ª—É—á–∞–π–Ω—ã—Ö—Å–∏–º–≤–æ–ª–∞–∑–¥–µ—Å—å';
```

–í –∫–æ–Ω–µ—Ü —Ñ–∞–π–ª–∞ –ø–µ—Ä–µ–¥ `?>` –¥–æ–±–∞–≤—å—Ç–µ:
```php
$cfg['TempDir'] = '/var/lib/phpmyadmin/tmp';
```

### –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–∞–π—Ç–∞:
```bash
sudo mkdir -p /var/www/–í–ê–®_–î–û–ú–ï–ù/public_html
sudo chown -R www-data:www-data /var/www/–í–ê–®_–î–û–ú–ï–ù
```

2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é —Å–∞–π—Ç–∞:
```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –≤ /var/www/–í–ê–®_–î–û–ú–ï–ù/public_html
```

3. –°–æ–∑–¥–∞–π—Ç–µ —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫—É—é —Å—Å—ã–ª–∫—É –¥–ª—è phpMyAdmin:
```bash
sudo ln -s /usr/share/phpmyadmin /var/www/–í–ê–®_–î–û–ú–ï–ù/public_html/secret_admin_panel_2025
```

4. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx:
```bash
sudo nano /etc/nginx/sites-available/–í–ê–®_–î–û–ú–ï–ù
```

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:
```nginx
server {
    listen 80;
    server_name –í–ê–®_–î–û–ú–ï–ù www.–í–ê–®_–î–û–ú–ï–ù;
    root /var/www/–í–ê–®_–î–û–ú–ï–ù/public_html;
    index index.php index.html index.htm;

    location / {
        try_files $uri $uri/ /index.php?$query_string;
    }

    location ~ \.php$ {
        include snippets/fastcgi-php.conf;
        fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
        include fastcgi_params;
    }

    location /secret_admin_panel_2025 {
        alias /usr/share/phpmyadmin/;
        index index.php;
        
        location ~ \.php$ {
            include snippets/fastcgi-php.conf;
            fastcgi_pass unix:/var/run/php/php7.4-fpm.sock;
            fastcgi_param SCRIPT_FILENAME $request_filename;
            include fastcgi_params;
        }
        
        location ~* ^/secret_admin_panel_2025/(.+\.(jpg|jpeg|gif|css|png|js|ico|html|xml|txt))$ {
            alias /usr/share/phpmyadmin/$1;
        }
    }

    location ~ /\.ht {
        deny all;
    }

    client_max_body_size 100M;
}
```

5. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —Å–∞–π—Ç:
```bash
sudo ln -sf /etc/nginx/sites-available/–í–ê–®_–î–û–ú–ï–ù /etc/nginx/sites-enabled/
sudo rm -f /etc/nginx/sites-enabled/default
sudo nginx -t
sudo systemctl restart nginx
```

### –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ PHP

1. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é PHP:
```bash
sudo nano /etc/php/7.4/fpm/php.ini
```

2. –ò–∑–º–µ–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```ini
upload_max_filesize = 32M
post_max_size = 64M
max_execution_time = 100
```

3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ PHP-FPM:
```bash
sudo systemctl restart php7.4-fpm
```

### –®–∞–≥ 8: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Certbot:
```bash
sudo apt install certbot python3-certbot-nginx -y
```

2. –ü–æ–ª—É—á–∏—Ç–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç:
```bash
sudo certbot --nginx -d –í–ê–®_–î–û–ú–ï–ù -d www.–í–ê–®_–î–û–ú–ï–ù
```

### –®–∞–≥ 9: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall

```bash
sudo ufw allow 'Nginx Full'
sudo ufw allow OpenSSH
sudo ufw --force enable
```

### –®–∞–≥ 10: –ò–º–ø–æ—Ä—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

1. –í–æ–π–¥–∏—Ç–µ –≤ phpMyAdmin —á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä:
```
https://–í–ê–®_–î–û–ú–ï–ù/secret_admin_panel_2025
```

2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `db_test`

3. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –∏–∑ [–ø–∞–ø–∫–∏ database](https://github.com/fortrane/gazprombank-products-tracker/tree/main/database)

4. –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```sql
CREATE USER 'db_usr'@'localhost' IDENTIFIED BY '–í–∞—à–ü–∞—Ä–æ–ª—å';
GRANT ALL PRIVILEGES ON db_test.* TO 'db_usr'@'localhost';
FLUSH PRIVILEGES;
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `/var/www/–í–ê–®_–î–û–ú–ï–ù/public_html/src/Custom/Medoo/connect.php`:

```php
$pdo = new PDO('mysql:dbname=db_test;host=localhost', 'db_usr', '–í–∞—à–ü–∞—Ä–æ–ª—å');
```

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ API

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `/var/www/–í–ê–®_–î–û–ú–ï–ù/public_html/src/Api/v1.php`:

```php
$apiUrl = "https://backend.example.com";  // URL –≤–∞—à–µ–≥–æ backend —Å–µ—Ä–≤–µ—Ä–∞
$secretKey = "–í–ê–®_–°–ï–ö–†–ï–¢–ù–´–ô_–ö–õ–Æ–ß";       // API –∫–ª—é—á, —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–π —Å backend
```

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

```bash
sudo chown -R www-data:www-data /var/www/–í–ê–®_–î–û–ú–ï–ù/public_html
sudo chmod -R 755 /var/www/–í–ê–®_–î–û–ú–ï–ù/public_html
```

## üîë –î–æ—Å—Ç—É–ø –∫ —Å–∏—Å—Ç–µ–º–µ

### –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- **URL:** `https://–í–ê–®_–î–û–ú–ï–ù`
- **–õ–æ–≥–∏–Ω:** `admin`
- **–ü–∞—Ä–æ–ª—å:** `admin`

### phpMyAdmin
- **URL:** `https://–í–ê–®_–î–û–ú–ï–ù/secret_admin_panel_2025`
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ MySQL
